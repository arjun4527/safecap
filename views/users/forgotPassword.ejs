<%- include('../layouts/userLayouts/header') %>


        <!--Body Content-->
        <div class="page section-header text-center">
          <div class="page-title">
              <div class="wrapper">
                  <h1 class="page-width">Forgot Password</h1>
              </div>
          </div>
      </div>




        

          <div style="background-color: #ffffff; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); padding: 40px; width: 700px; text-align: center; margin-left: 600px; height: 400px">
    <h2 style="font-size: 28px; color: #333;">Forgot Password</h2>
    <p style="font-size: 16px; color: #555;">Enter your email address to reset your password.</p>

    <form action="/forgotPassword" method="post" id="forgotPasswordForm" >
        <div style="margin-bottom: 20px;">
            <input type="email" id="email" name="email" placeholder="Email Address" style="width: 80%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px;">
            <span class="error" style="color:red; display: block; margin-top: 5px;" id="emailError"></span>
        </div>

        <button type="submit" onclick="validateForm()" style="background-color: black; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; width: 50%; font-size: 16px;">Send Reset Link</button>
    </form>
    
    <p style="margin-top: 20px; font-size: 14px; color: #777;">Remembered your password? <a href="/login" style="color: black; text-decoration: none;">Log in</a></p>
</div>

        


        <!--End Body Content-->
  <%- include('../layouts/userLayouts/footer') %>
        

            <script>
                function validateForm() {
                  event.preventDefault();
                    let valid = true
                console.log("shiva")

                document.querySelectorAll(".error").forEach(function (error) {
                    error.textContent = ''
                })
            
                const email = document.getElementById("email").value.trim()
              


                const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/
                if (email === '') {
                    document.getElementById("emailError").textContent = "Email is Required"
                    valid = false
                } else if (!emailPattern.test(email)) {
                    document.getElementById("emailError").textContent = 'Please enter a valid email address'
                    valid = false
                }


               

                if (valid) {
                    document.getElementById("forgotPasswordForm").submit()
                }

            }
            // show message in swal fire
             window.addEventListener('DOMContentLoaded',(event)=>{

             // Combine all messages into a single variable
let showMessage = "<%= typeof showMessage !== 'undefined' ? showMessage : '' %>";

if (showMessage) {
  Swal.fire({
    title: '',
    text: showMessage,
    icon: '',
    confirmButtonText: 'OK'
  });
}

 })
 


</script>