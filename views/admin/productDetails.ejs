<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Evara Dashboard - Product Details</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/adminAssets/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link href="/adminAssets/css/main.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="screen-overlay"></div>
    <aside class="navbar-aside" id="offcanvas_aside">
        <div class="aside-top">
            <a href="index.html" class="brand-wrap">
                <img src="assets/imgs/theme/logo.svg" class="logo" alt="Evara Dashboard">
            </a>
            <div>
                <button class="btn btn-icon btn-aside-minimize">
                    <i class="text-muted material-icons md-menu_open"></i>
                </button>
            </div>
        </div>

        <%- include('../layouts/adminLayouts/sideBar') %>

        
    </aside>

    <main class="main-wrap">
        <header class="main-header navbar">
            <!-- Keep the header content same as in the productData list page -->
            <div class="col-search">
                <form class="searchform">
                    <div class="input-group">
                        <input list="search_terms" type="text" class="form-control" placeholder="Search term">
                        <button class="btn btn-light bg" type="button">
                            <i class="material-icons md-search"></i>
                        </button>
                    </div>
                    <datalist id="search_terms">
                        <option value="Products">
                        <option value="New orders">
                        <option value="Apple iPhone">
                        <option value="Ahmed Hassan">
                    </datalist>
                </form>
            </div>
            <!-- Other header elements -->
        </header>

        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Product Details</h2>
                    <!-- <p>View detailed information about a productData</p> -->
                    <a href="/admin/productList" class="btn btn-primary btn-sm rounded">Back</a>
                </div>
                <div>
                    <a href="/admin/editProduct?id=<%= productData._id %>" class="btn btn-primary btn-sm rounded">Edit Product</a>
                    <!-- <a href="#" class="btn btn-light btn-sm rounded">Delete Product</a> -->
                </div>
            </div>

            <div class="card mb-4">
                <header class="card-header">
                    <h4>Basic Information</h4>
                </header>
                
              <div class="card-body">
                    <!-- Product Image -->
                    <div class="row">
                        <div class="col-md-4">
                          <img src="/productImages/<%= productData?.productImage[0] %>" class="img-sm img-thumbnail" alt="Item">
                        </div>
                        <div class="col-md-8">
                            <!-- Product Details -->
                            <h5><%= productData?.productName %></h5>
                            <p><strong>Brand:</strong> <%= productData?.brand ? productData?.brand?.name : 'No Brand' %></p>
                            <p><strong>Category:</strong> <%= productData?.category ? productData?.category?.name : 'No Category' %></p>
                            <p><strong>Description:</strong> <%= productData?.description %></p>
                           
                        </div>
                    </div>
                </div>
            </div>

            <!-- Variants -->
            <div class="card mb-4">
                <header class="card-header">
                    <h4>Product Variants</h4>
                </header>
                <div class="card-body">
                    <div class="row">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Size</th>
                                    <th>Stock</th>
                                    <th>Price</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% productData?.variants.forEach((variant) => { %>
                                    <tr>
                                        <td><%= variant?.size %></td>
                                        <td><%= variant?.stock %></td>
                                        <td><%= variant?.price %></td>
                                    </tr>
                                <% }); %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>




            <h2>Existing Images</h2>
                <div class="product-images-preview" style="margin-top: 10px; display: flex; flex-wrap: wrap; gap: 10px;">
                    <% if (productData.productImage && productData.productImage.length > 0) { %>
                        <% productData.productImage.forEach(function(image, index) { %>
                            <div class="image-item" style="position: relative; width: 150px; height: 150px; border: 1px solid #ddd; overflow: hidden;">
                                <!-- Image -->
                                <img src="/productImages/<%= image %>" alt="Product Image" style="width: 100%; height: 100%; object-fit: cover;">

                            </div>
                            <% }) %>
                        <% } else { %>
                            <p>No images uploaded yet.</p>
                        <% } %>
                    </div>
            


            <!-- Additional Product Details -->
            <div class="card mb-4">
                <header class="card-header">
                    <h4>Additional Details</h4>
                </header>
                <div class="card-body">
                    <p><strong>Is Blocked:</strong> <%= productData?.is_blocked ? 'Yes' : 'No' %></p>
                </div>
            </div>
        </section>

        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <script>document.write(new Date().getFullYear())</script> Â©, Evara - HTML Ecommerce Template.
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end">
                        All rights reserved
                    </div>
                </div>
            </div>
        </footer>
    </main>

    <!-- Scripts -->
   
    <script src="assets/js/main.js" type="text/javascript"></script>

    <script src="/adminAssets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="/adminAssets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="/adminAssets/js/vendors/select2.min.js"></script>
    <script src="/adminAssets/js/vendors/perfect-scrollbar.js"></script>
    <script src="/adminAssets/js/vendors/jquery.fullscreen.min.js"></script>
     
    <!-- Main Script -->
    <script src="/adminAssets/js/main.js" type="text/javascript"></script>
    
</body>

</html>
